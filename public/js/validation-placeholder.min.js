!function(e){function t(){return"placeholder"in document.createElement("input")}function a(e){var t=e.target,a=e.placeholderTarget,r=e.warnClass,l=t.val(),o=t.parent();e.warn?o.hasClass(r)||(e.targetValue=l,e.isSupportPlaceholder&&t.attr("placeholder",""),t.val("").parent().addClass(r),a.text(e.warnText),i.show.call(t[0])):(e.targetValue=l,l||t[0].placeholder||i.show.call(t[0])),console.log(e.text+"隐藏时",e.targetValue)}function r(e,t){var a=e.warnClass,r=e.target,l=e.targetValue;r.val()||t?e.targetValue=r.val():r.val(l),e.isSupportPlaceholder&&r.attr("placeholder",e.text),r.parent().removeClass(a),i.hide.call(r),r.focus()}function l(t){var l=e(this).data("placeholder"),o=e(this).parent(),n=l.placeholderTarget=e("<span>",{text:t.text,"class":t.className});return i.reposition.call(e(this)),o.append(n).on("click.placeholder",function(e){r(l)}).on("blur.placeholder","input",function(e){a(l)}),this}function o(e){""===this.placeholder&&(this.placeholder=e)}function n(t,a){var r=e(this);return r.data("placeholder",e.extend({},{target:r,text:t.text,isSupportPlaceholder:a},t)).data("placeholder")}var c={warn:!1,warnText:"错误",warnClass:"warn",text:"",IEmodal:!1},i={init:function(i){return i=e.extend({},c,i),this.each(function(){var c=e(this),h=c.data("placeholder"),s=i.text,p=t()&&!i.IEmodal;h||(h=n.call(this,i,p)),p?o.call(this,s):(l.call(this,i),this.value&&(a(h),r(h)))})},destroy:function(){return this.each(function(){var t=e(this),a=t.data("placeholder");a.isSupPlaceholder||(a.target.parent().off(".placeholder"),a.placeholderTarget.remove(),t.removeData("placeholder"))})},reposition:function(){return this.each(function(t,a){var r=e(this).data("placeholder");if(r&&r.placeholderTarget){var l=r.placeholderTarget,o=r.target,n=o.parent();"relative"!==n.css("position")&&n.css("position","relative");var c={position:"absolute",left:function(){return o[0].offsetLeft+(parseInt(o.css("margin-left"))||0)+(parseInt(o.css("padding-left"))||0)}(),top:function(){return o[0].offsetTop+(o.outerHeight()-parseInt(o.css("font-size"))||0)/2}(),color:"#666"};l.css(c)}})},show:function(){e(this).data("placeholder").placeholderTarget.show()},hide:function(){e(this).data("placeholder").placeholderTarget.hide()},updateHolderText:function(t){return this.each(function(a,r){var l=e(this),o=l.data("placeholder");$placeholder=o.placeholderTarget,$placeholder.text(t)})},showWarn:function(t){return this.each(function(l,o){var n=e(this),c=n.data("placeholder");$placeholder=c.placeholderTarget,c.warnText=t||c.warnText,c.warn=!0,c.isSupportPlaceholder&&!c.placeholderTarget&&($placeholder=c.placeholderTarget=e("<span>",{"class":c.className}),c.target.parent().append($placeholder).on("click.placeholder",function(e){r(c)}).on("blur.placeholder","input",function(e){a(c)})),i.reposition.call(e(this)),a(c)})},removeWarn:function(){return this.each(function(t,a){var l=e(this),o=l.data("placeholder");$placeholder=o.placeholderTarget,o.warn&&(r(o,!0),o.warn=!1)})}};e.fn.placeholder=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.placeholder"):i.init.apply(this,arguments)}}(jQuery);